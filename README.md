# Synthetic truss bridge
Created by [Daniel Lamas Novoa](https://orcid.org/0000-0001-7275-183X), [Andrés Justo Dominguez](https://orcid.org/0000-0003-2072-4076), [Mario Soilán Rodríguez](https://orcid.org/0000-0001-6545-2225), and [Belén Riveiro Rodríguez](https://orcid.org/0000-0002-1497-4370) from [GeoTech Group](https://geotech.webs.uvigo.es/en/), [CINTECX](http://cintecx.uvigo.es/gl/), [UVigo](https://www.uvigo.gal/).

## Overview
This repository contains the code for a tool that generates synthetic truss-type bridges.
By specifying the topology, dimensions of the panels and beam profiles, the code generates a point cloud, a mesh, and a structural graph of the bridge.
If the positions of the LiDAR are specified, the point cloud will simulate occlusions.
The implemented topologies are Brown and Bailey. We aim to include more in the future.

This tool has been used in the paper [Automated production of synthetic point clouds of truss bridges for semantic and instance segmentation using deep learning models](https://doi.org/10.1016/j.autcon.2023.105176)

## Usage
An example to generate point cloud is [train_and_test.py](https://github.com/GeoTechUVigo/synthetic_truss_bridges/blob/main/generate_point_clouds.py)
Point clouds are generated by randomly selecting their parameters.

Generating a specific bridge can be exemplified by:
```
my_bridge = BridgeType(n_drawers=10, height=7, length=6, width=5, h_deck=5, chord=['UB-356x127x33', 1.5707963267948966, 1], 
                            diagonal_vert=['L-75-75-6.0', 0.0, 3], parallel_vert=['IPN-280', 4.71238898038469, 2],
                            diagonal_bottom=['L-150-75-9.0', 0.0, 3], parallel_bottom=['IPN-280', 4.71238898038469, 2], parallel_deck = ['IPN-280', 4.71238898038469, 2],
                            diagonal_top=['HP-200x43', 1.5707963267948966, 3], parallel_top=['L-200-150-12.0', 1.5707963267948966, 2],
                            diagonal_inner=['HP-200x43', 1.5707963267948966, 3], parallel_inner=['L-200-150-12.0', 1.5707963267948966, 2],
                            centre=np.array([0, 0, 0]), orientation=np.array([2.16629233, -0.1955326, -0.0378116]),
                            density=10000
                            )
graph = my_bridge.graph
mesh ) my_bridge.mesh()
my_bridge.point_cloud()
my_bridge.save_las(path=file_path, scale=0.01)
```

## Citation
If you find our work useful in your research, please consider citing:
```
@article{LAMAS2024105176,
title = {Automated production of synthetic point clouds of truss bridges for semantic and instance segmentation using deep learning models},
journal = {Automation in Construction},
volume = {158},
pages = {105176},
year = {2024},
issn = {0926-5805},
doi = {https://doi.org/10.1016/j.autcon.2023.105176},
url = {https://www.sciencedirect.com/science/article/pii/S0926580523004363},
author = {Daniel Lamas and Andrés Justo and Mario Soilán and Belén Riveiro},
keywords = {Point clouds, Truss bridge, Semantic segmentation, Instance segmentation, Synthetic data, Deep learning},
abstract = {The cost of obtaining large volumes of bridge data with technologies like laser scanners hinders the training of deep learning models. To address this, this paper introduces a new method for creating synthetic point clouds of truss bridges and demonstrates the effectiveness of a deep learning approach for semantic and instance segmentation of these point clouds. The method generates point clouds by specifying the dimensions and components of the bridge, resulting in high variability in the generated dataset. A deep learning model is trained using the generated point clouds, which is an adapted version of JSNet. The accuracy of the results surpasses previous heuristic methods. The proposed methodology has significant implications for the development of automated inspection and monitoring systems for truss bridges. Furthermore, the success of the deep learning approach suggests its potential for semantic and instance segmentation of complex point clouds beyond truss bridges.}
}
```

## Licence
Automated production of synthetic point clouds of truss bridges for semantic and instance segmentation using deep learning models.

Copyright (C) 2023 GeoTECH Group <geotech@uvigo.gal>

Copyright (C) 2023 Daniel Lamas Novoa <daniel.lamas.novoa@uvigo.gal>

This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program in ![COPYING](https://github.com/GeoTechUVigo/truss_bridge_pc_segmentation_dl/blob/main/COPYING). If not, see <https://www.gnu.org/licenses/>.

## Instalation
```
conda env create --name envname --file=environments.yml
```
